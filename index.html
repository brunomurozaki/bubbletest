<hmtl>
	<head>
		<title>Bubble Test</title>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

		<script>
		  window.fbAsyncInit = function() {
		    FB.init({
		      appId      : '241416459655151',
		      cookie     : true,
		      xfbml      : true,
		      version    : 'v2.8'
		    });
		    FB.AppEvents.logPageView();   
		  };

		  (function(d, s, id){
		     var js, fjs = d.getElementsByTagName(s)[0];
		     if (d.getElementById(id)) {return;}
		     js = d.createElement(s); js.id = id;
		     js.src = "//connect.facebook.net/en_US/sdk.js";
		     fjs.parentNode.insertBefore(js, fjs);
		   }(document, 'script', 'facebook-jssdk'));

		  	function loginCallback(e){
		  		
				FB.api("/me?fields=friends", "get", function(response){
					//console.log(response);

					var friends = response.friends;
					var friendId;

					for(var i = 0; i < friends.length; i++){
						friendId = friends[i].id;

						FB.api("/" + friendId + "?fields=friends", "get", function(r){
							var moreFriends = r.friends;
							for(var j = 0; j < moreFriends.length; j++){
								console.log("Nome: " + moreFriends[j].name);	
							}
						});

					}

				});
				FB.api("/me?fields=posts", "get", function(response){
					//console.log(response);
				});
//				alert("Obrigado por sua ajuda!");
				//window.location.href = "https://www.youtube.com/watch?v=HbKU9-s_eyg";
		  	}

		  	function checkLoginState(){
		  		FB.login(loginCallback, {scope: "user_likes,user_posts,user_friends"})
		  	}
		</script>

	</head>


	<body>
		Por Favor, clique no botao e digite seus dados do Facebook (Nao, amigos. Nao estou roubando vossas senhas...)
		<br/>
		<fb:login-button 
		  scope="public_profile,email"
		  onlogin="checkLoginState();">
		</fb:login-button>

		<div id="demo">
		</div>
	</body>
</html>
